name: Build Microzig Master
on:
  push:
    branches: [zig-master]
  pull_request:
    branches: [zig-master]

# A simple workflow that will, upon a push or PR to zig-master, build microzig
jobs:
  build-microzig-master-post-pr:
    name: Build with master
    uses: ./.github/workflows/build-base.yml
    with:
      zig-version: master
      get-submodules: true
      is-packaged: false
      zig-args: -Doptimize=ReleaseSmall
    secrets:
      downloads-url: ${{ secrets.DOWNLOADS_URL }}
